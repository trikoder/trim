import{_ as n,a3 as d,K as p,o as s,b as a,l as g,O as r,g as m,n as o,Z as u,p as h,h as y}from"./index-58233bfe.js";import{S as c}from"./simpleLightbox.min-86d2883f.js";const f={elementType:"media",mixins:[d],props:{mediaType:{type:[String,Function],default:"image"},mapImageTo:{type:[String,Function]},mapLargeImageTo:{type:[String,Function]},mapFileUrlTo:{type:[String,Function]},imageMediaTypes:{type:Array,default:()=>["image"]},fileMediaTypes:{type:Array,default:()=>["file"]}},computed:{modelMediaType(){return typeof this.mediaType=="function"?this.mediaType(this.resourceModel):this.mediaType},isImage(){return this.imageMediaTypes.indexOf(this.modelMediaType)>=0},isFile(){return this.fileMediaTypes.indexOf(this.modelMediaType)>=0},imageUrl(){return this.isImage&&(this.mapImageTo||this.mapTo)?this.getModelMapping(this.mapImageTo||this.mapTo):void 0},fileUrl(){return this.isFile&&(this.mapFileUrlTo||this.mapTo)?this.getModelMapping(this.mapFileUrlTo||this.mapTo):void 0},largeImageUrl(){return this.isImage&&this.mapLargeImageTo?this.getModelMapping(this.mapLargeImageTo):void 0},styleAttribute(){return this.isImage&&this.imageUrl?p({},this.attributes.style,{backgroundImage:"url("+this.imageUrl+")"}):this.attributes.style}},beforeUnmount(){this.lightbox&&this.lightbox.destroy()},methods:{getModelMapping(e){return typeof e=="function"?e(this.resourceModel):this.resourceModel.get(e)},openFile(){this.fileUrl&&window.open(this.fileUrl,"_blank")},zoomImage(){this.lightbox&&this.lightbox.destroy(),this.lightbox=c.open({items:[this.largeImageUrl],beforeUnmount:()=>{delete this.lightbox}})}}},b=e=>(h("data-v-d47f6833"),e=e(),y(),e),T=b(()=>m("span",{class:"placeholder iconImage icr"},null,-1)),I=[T];function M(e,i,_,F,U,t){return t.imageUrl?(s(),a("div",r({key:0,class:[e.classAttribute,"mediaListItemType1 image"],style:t.styleAttribute},e.attributes),[t.largeImageUrl?(s(),a("button",{key:0,type:"button",onClick:i[0]||(i[0]=(...l)=>t.zoomImage&&t.zoomImage(...l)),class:"zoomImage previewBtn nBtn icr iconMaximize"})):g("",!0)],16)):t.isFile?(s(),a("div",r({key:1,class:[e.classAttribute,"mediaListItemType1 file"],style:t.styleAttribute},e.attributes),[m("button",{type:"button",onClick:i[1]||(i[1]=(...l)=>t.openFile&&t.openFile(...l)),class:o(["openFile previewBtn nBtn icr iconFile",{withFile:t.fileUrl}])},null,2)],16)):(s(),a("div",{key:2,class:o([e.classAttribute,"mediaListItemType1"]),style:u(t.styleAttribute)},I,6))}const x=n(f,[["render",M],["__scopeId","data-v-d47f6833"],["__file","media.vue"]]);export{x as default};
