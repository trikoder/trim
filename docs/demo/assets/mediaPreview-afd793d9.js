import{_ as m,a4 as l,a5 as d,e as g,o as n,z as p,A as u,a6 as h,a7 as c,b as r,g as i,F as f}from"./index-0c1d77fd.js";import{S as _}from"./simpleLightbox.min-a5da56bf.js";const M={elementType:"mediaPreview",components:{ElementWrapper:l},mixins:[d],props:{modelValue:{type:String,default:""},readOnly:{type:Boolean,default:!0},mapImageTo:{type:[String,Function],default:"thumbnailUrl"},mapLargeImageTo:{type:[String,Function],default:"originalUrl"},mapMediaTypeTo:{type:String,default:"mediaType"},mediaRelation:String},computed:{mediaModel(){return this.resourceModel?this.mediaRelation?this.resourceModel.get(this.mediaRelation):this.resourceModel:void 0},mediaType(){return this.mediaModel?this.mediaModel.get(this.mapMediaTypeTo):void 0},imageUrl(){return this.mediaModel?this.getModelMapping(this.mapImageTo):void 0},largeImageUrl(){return this.mediaModel?this.getModelMapping(this.mapImageTo):void 0}},beforeUnmount(){this.lightbox&&this.lightbox.destroy()},methods:{zoomImage(){this.lightbox&&this.lightbox.destroy(),this.lightbox=_.open({items:[this.largeImageUrl||this.imageUrl],beforeUnmount:()=>{delete this.lightbox}})},getModelMapping(t){return typeof t=="function"?t(this.mediaModel):this.mediaModel.get(t)}}},y={class:"imageContainer"},b=["src"],I={key:1,class:"placeholder iconImage icr"};function x(t,a,v,T,z,e){const s=g("element-wrapper");return n(),p(s,h(c(t.elementWrapperProps)),{default:u(()=>[e.mediaModel?(n(),r(f,{key:0},[i("div",y,[i("img",{src:e.imageUrl},null,8,b),i("button",{type:"button",onClick:a[0]||(a[0]=(...o)=>e.zoomImage&&e.zoomImage(...o)),class:"zoomImage previewBtn nBtn icr iconMaximize"})]),i("p",null,[i("span",{onClick:a[1]||(a[1]=(...o)=>e.zoomImage&&e.zoomImage(...o)),class:"zoomImage"},"Zoom image")])],64)):(n(),r("span",I))]),_:1},16)}const k=m(M,[["render",x],["__file","mediaPreview.vue"]]);export{k as default};
