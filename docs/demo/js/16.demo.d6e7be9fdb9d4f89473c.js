(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{326:function(e,t,a){var i=a(390);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,a(4).default)("d6fd8050",i,!0,{})},389:function(e,t,a){"use strict";var i=a(326);a.n(i).a},390:function(e,t,a){(t=a(3)(!1)).push([e.i,".pagePreviewType1>.controls[data-v-29b7ab65]{padding:2em}.pagePreviewType1 .sizeControls[data-v-29b7ab65]{display:inline-block;vertical-align:middle;border:1px solid #777;border-radius:0.3em}.pagePreviewType1 .sizeControls>button[data-v-29b7ab65]{-webkit-transition:color 0.3s;-o-transition:color 0.3s;transition:color 0.3s;font-size:1.3em;padding:.30769em 1.53846em;color:#777}.pagePreviewType1 .sizeControls>button[data-v-29b7ab65]:not(:first-child){border-left:1px solid #777}.pagePreviewType1 .sizeControls>button.active[data-v-29b7ab65],.pagePreviewType1 .sizeControls>button[data-v-29b7ab65]:hover{color:#fff}.pagePreviewType1 .previewUrl[data-v-29b7ab65]{-webkit-appearance:none;-moz-appearance:none;appearance:none;max-width:45%;display:inline-block;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;white-space:nowrap;word-wrap:normal;font-size:1.4em;display:inline-block;vertical-align:middle;margin-left:1.42857em;width:45%;color:#777;border:0;background:transparent}.pagePreviewType1>.pageContainerWrap[data-v-29b7ab65]{position:absolute;left:2em;right:2em;top:6.8em;bottom:0}.pagePreviewType1 .pageContainer[data-v-29b7ab65]{-webkit-transition:width 0.5s;-o-transition:width 0.5s;transition:width 0.5s;position:absolute;left:0;top:0;width:100%;height:100%;-webkit-box-shadow:0 0.2em 0.5em rgba(0,0,0,0.4);box-shadow:0 0.2em 0.5em rgba(0,0,0,0.4)}.pagePreviewType1 .pageContainer>iframe[data-v-29b7ab65]{position:absolute;left:0;top:0;width:100%;height:100%}\n",""]),e.exports=t},416:function(e,t,a){"use strict";a.r(t);var i=a(5),o=a(17),n=a(112);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var s=i.a.extend({props:{className:{type:String,default:"pagePreviewType1"},url:{type:String,required:!0},screenSizes:{type:Array,default:function(){return[320,728,1024,1300]}}},data:function(){return{currentSize:"100%"}},computed:{parsedScreenSizes:function(){return[{caption:"100%",size:"100%"}].concat(this.screenSizes.map((function(e){return"object"===r(e)?e:"number"==typeof e?{caption:e.toString(),size:e+"px"}:"string"==typeof e?{caption:e,size:e}:void 0})))}},methods:{setSize:function(e){this.currentSize=e}}});var l=s,p=(a(389),a(1));Object(p.a)(l,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{class:e.className},[a("div",{staticClass:"controls"},[a("div",{staticClass:"sizeControls"},e._l(e.parsedScreenSizes,(function(t){return a("button",{key:t.size,staticClass:"nBtn",class:{active:t.size===e.currentSize},attrs:{type:"button"},on:{click:function(a){return e.setSize(t.size)}}},[e._v(e._s(t.caption))])})),0),e._v(" "),a("input",{staticClass:"previewUrl",attrs:{disabled:"disabled",type:"text"},domProps:{value:e.url}})]),e._v(" "),a("div",{staticClass:"pageContainerWrap"},[a("div",{staticClass:"pageContainer",style:{width:e.currentSize}},[a("iframe",{attrs:{src:e.url,frameborder:"0"}})])])])}),[],!1,null,"29b7ab65",null).exports,t.default={resourceName:"page",resourceCaption:"title",setupList({list:e}){this.addCreateControl("Create new page"),e.addFilter([["TextFormElement",{name:"title",label:"Title"}],["DateFormElement",{name:"publishDate",label:"Date"}],["SelectFormElement",{name:"published",label:"Status",selectOptions:[{caption:"All pages",value:""},{caption:"Published",value:"true"},{caption:"Unpublished",value:"false"}]}],["SelectFormElement",{name:"author",label:"Author",selectOptions:{resource:"user",mapCaptionTo:"email",prepend:[{caption:"All",value:""}]}}],["ExternalAdminFormElement",{name:"tags",label:"Tags",mapCaptionTo:"title",relation:{type:"hasOne",resourceName:"tag"}}],["CheckboxFormElement",{name:"special",label:"Special"}]]),e.addMassAction([{caption:"Publish",updateAttributes:{published:!0},updateMessage:{success:e=>"Total tems published: "+e.resolutions.length,error:e=>"Failed to publish: "+e.rejections.length}},{caption:"Unpublish",updateAttributes:{published:!1}},{caption:"Delete",action:e=>e.destroy(),confirm:!0,updateMessage:{success:"All selected items are deleted"}}]),e.addSort([{label:"By title",field:"-title"},{label:"By date",field:"-date"}]),e.addItem("TextListItem",{caption:"ID",mapTo:"id",addIf:this.screenIsLarge}),e.addItem("LinkListItem",{caption:"Title",mapTo:"title",action:"editItem"}),e.addItem("DateListItem",{caption:"Date",mapTo:"publishDate",ifEmpty:e=>"Date for page "+e.get("id")+" not set."}),e.addItem({Type:"DateTimeListItem",options:{caption:"Date and time",mapTo:"publishDate",ifEmpty:"Date time not set"}}),e.addItem([["TextListItem",{caption:"Author",mapTo:"author.email"}],{Type:"TextListItem",options:{caption:"Tags",mapTo:"tags.title",ifEmpty:'<span style="opacity: 0.5">No tags</span>'}}]),e.addItem("BlipListItem",{caption:"Published",mapTo:"published"}),e.addItem("ButtonListItem",{caption:"View",useIcon:"externalLink",action:e=>{return t="string"==typeof(t="https://trikoder.github.io/trim/")?{url:t}:t,Object(n.a)({component:s,props:t,dark:!0,parent:t.parent||o.a.rootView});var t},addIf:this.screenIsLarge}),e.addItem("ContextMenuListItem",{caption:"Actions",items:[{caption:"Edit",action:"editItem"},{caption:"Delete",action:"deleteItem",confirm:!0},{caption:e=>e.get("published")?"Unpublish":"Publish",updateAttributes:e=>({published:!e.get("published")})}]})},setupEdit({edit:e}){this.addToIndexControl().addSaveControl(),e.addField("TextFormElement",{label:"Title",name:"title",attributes:{input:{class:"inputType2 size2 fontBold"}},layoutReference:"mainRegion"}),e.addField("MultipleSelectFormElement",{name:"tags",label:"Tags",relation:{type:"hasMany",resourceName:"tag"},selectOptions:{resource:"tag",mapCaptionTo:"title"},layoutReference:"mainRegion"}),e.addField("HtmlFormElement",{label:"Body text",name:"bodyText",layoutReference:"mainRegion"}),e.addField("ExternalAdminFormElement",{name:"author",label:"Author",mapCaptionTo:"email",relation:{type:"hasOne",resourceName:"user"},layoutReference:"sideRegion"}),e.addField("DateTimeFormElement",{name:"publishDate",label:"Date",layoutReference:"sideRegion"}),e.addField("ColorFormElement",{name:"pageColor",label:"Page color",layoutReference:"sideRegion"}),e.addField("NumberFormElement",{name:"rank",label:"Page rank",layoutReference:"sideRegion"})}}}}]);