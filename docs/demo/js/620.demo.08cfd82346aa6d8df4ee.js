"use strict";(self.webpackChunk_trikoder_trim=self.webpackChunk_trikoder_trim||[]).push([[620],{7620:function(e,t,o){o.r(t),o.d(t,{default:function(){return w}});var n=o(4861),i=o(5123),r=o(3260),s=o(7720),l=o(6252),c=o(3577),d={key:0,class:"massActionCheckboxHeading"},a=["id","checked"],u=["for"],p={key:0,class:"massActionCheckboxCell"},m=["id","checked","onChange"],h=["for"],f=["onClick"],y={mixins:[o(7437).Z],props:{modelCollection:{type:Object,required:!0},definitions:{type:Object,required:!0},allModelsAreSelected:{type:Boolean,required:!0},selectAllModels:{type:Function,required:!0},deselectAllModels:{type:Function,required:!0},isModelSelected:{type:Function,required:!0},selectModel:{type:Function,required:!0},deselectModel:{type:Function,required:!0},treeItems:{type:Array,required:!0},expandNode:{type:Function,required:!0},collapseNode:{type:Function,required:!0}},methods:{toggleNode:function(e){e.expanded?this.collapseNode(e.model):this.expandNode(e.model)}}},g=(0,o(3744).Z)(y,[["render",function(e,t,o,n,i,r){return(0,l.wg)(),(0,l.iD)("table",{class:"tableType1 nested",key:o.modelCollection.cid},[(0,l._)("thead",null,[o.definitions.massActions.length?((0,l.wg)(),(0,l.iD)("th",d,[(0,l._)("input",{type:"checkbox",id:"mac-"+o.modelCollection.cid,class:"checkboxType1 massActionCheckbox",checked:o.allModelsAreSelected,onChange:t[0]||(t[0]=function(e){return e.target.checked?o.selectAllModels():o.deselectAllModels()})},null,40,a),(0,l._)("label",{class:"icr iconCheck",for:"mac-"+o.modelCollection.cid},null,8,u)])):(0,l.kq)("",!0),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.definitions.listItems,(function(e,t){return(0,l.wg)(),(0,l.iD)("th",{key:t,class:(0,c.C_)(e.Type.elementType+"CellHeading")},(0,c.zw)(e.options.caption),3)})),128))]),(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.treeItems,(function(t){return(0,l.wg)(),(0,l.iD)("tr",{key:t.model.cid,style:(0,c.j5)({marginLeft:e.screenIsSmall?20*(t.level-1)+"px":void 0}),class:(0,c.C_)({indented:t.level>1})},[o.definitions.massActions.length?((0,l.wg)(),(0,l.iD)("td",p,[(0,l._)("input",{type:"checkbox",id:"mac-"+t.model.cid,class:"checkboxType1 massActionCheckbox",checked:o.isModelSelected(t.model),onChange:function(e){return e.target.checked?o.selectModel(t.model):o.deselectModel(t.model)}},null,40,m),(0,l._)("label",{class:"icr iconCheck",for:"mac-"+t.model.cid},null,8,h)])):(0,l.kq)("",!0),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.definitions.listItems,(function(o,n){return(0,l.wg)(),(0,l.iD)("td",{key:n,class:(0,c.C_)(o.Type.elementType+"Cell")},[0===n?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(t.spacers,(function(e){return(0,l.wg)(),(0,l.iD)("span",{key:e,class:"treeSpacer"})})),128)),t.expandable?((0,l.wg)(),(0,l.iD)("button",{key:0,onClick:function(e){return r.toggleNode(t)},type:"button",class:(0,c.C_)(["treeBtn nBtn icr",t.expanded?"iconMinus":"iconPlus"])},null,10,f)):(0,l.kq)("",!0)],64)):(0,l.kq)("",!0),((0,l.wg)(),(0,l.j4)((0,l.LL)(e.toComponent(o.Type)),(0,l.dG)({resourceModel:t.model},o.options),null,16,["resourceModel"]))],2)})),128))],6)})),128))])])}]]),T=o(6564),b={extends:i.Z,props:{mapParentTo:{type:[Function,String],required:!0},mapChildrenTo:{type:[Function,String],required:!0},mapLevelTo:{type:[Function,String]},mapIsLeafTo:{type:[Function,String]},mapPositionTo:{type:[Function,String],required:!0},expandedResourceIds:{type:Array,required:!0},expandNode:{type:Function,required:!0},collapseNode:{type:Function,required:!0}},data:function(){return{useTreeTemplate:(0,T.Qr)(this.query)}},computed:{sortComparator:function(){var e=this.mapPositionTo;return"function"==typeof e?e:function(t,o){return t.get(e)-o.get(e)}},queryIsEmpty:function(){return(0,T.Qr)(this.query)},showSort:function(){return!this.queryIsEmpty&&this.resolvedDefinitions&&this.resolvedDefinitions.sorts.length>1},showPagination:function(){return!this.queryIsEmpty&&this.paginationLimit&&this.modelsPresent},rootResourceModels:function(){var e=this;return this.modelCollection?this.modelCollection.filter((function(t){return 0===e.getModelLevel(t)})).sort(this.sortComparator):[]},treeItems:function(){var e=this,t=[];return this.rootResourceModels.forEach((function(o){return e.buildTree(o,t,1)})),t}},methods:{buildTree:function(e,t,o){var n=this,i=this.expandedResourceIds,r=!this.isLeaf(e),s=e.getId(),l=i.indexOf(s)>=0,c=r?o-1:o;t.push({id:s,spacers:c,expanded:l,expandable:r,model:e,level:o}),l&&this.getModelChildren(e).sort(this.sortComparator).forEach((function(e){n.buildTree(e,t,o+1)}))},getModelLevel:function(e){if(this.mapLevelTo)return"function"==typeof this.mapLevelTo?this.mapLevelTo(e):e.get(this.mapLevelTo);var t=e.get(this.mapParentTo);return t?1+this.getModelLevel(t):0},isLeaf:function(e){return this.mapIsLeafTo?"function"==typeof this.mapIsLeafTo?this.mapIsLeafTo(e,this.modelCollection):e.get(this.mapIsLeafTo):0===this.getModelChildren(e).length},getModelChildren:function(e){var t="function"==typeof this.mapChildrenTo?this.mapChildrenTo(e,this.modelCollection):e.get(this.mapChildrenTo);return t?t.models?t.models:t:[]},getAdditionalTemplateParams:function(){return this.useTreeTemplate?{treeItems:this.treeItems,expandNode:this.expandNode,collapseNode:this.collapseNode}:{}},getListTemplateType:function(){return this.useTreeTemplate?g:"table"===this.template?r.Z:s.Z},buildApiQuery:function(){var e=i.Z.methods.buildApiQuery.apply(this,arguments);return this.queryIsEmpty&&delete e.page,e},runQuery:function(){var e=this;return i.Z.methods.runQuery.call(this).then((function(){e.useTreeTemplate=e.queryIsEmpty}))}}},v=b,C=o(998);function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}function x(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function I(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?x(Object(o),!0).forEach((function(t){L(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):x(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function L(e,t,o){return(t=function(e){var t=function(e,t){if("object"!==k(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,"string");if("object"!==k(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===k(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var q=I(I({},n.Z),{},{data:function(){var e;return I(I({},null===(e=n.Z.data)||void 0===e?void 0:e.bind(void 0)()),{},{mapParentTo:"parent",mapChildrenTo:"children",mapLevelTo:void 0,mapIsLeafTo:void 0,mapPositionTo:function(){return 0},expandedResourceIds:[]})},methods:I(I({},n.Z.methods),{},{getResourceListType:function(){return v},getAdditionalListProps:function(){var e=this;return{mapParentTo:this.mapParentTo,mapChildrenTo:this.mapChildrenTo,mapLevelTo:this.mapLevelTo,mapIsLeafTo:this.mapIsLeafTo,mapPositionTo:this.mapPositionTo,expandedResourceIds:this.expandedResourceIds,expandNode:function(t){return e.expandNode(t)},collapseNode:function(t){return e.collapseNode(t)}}},expandNode:function(e){this.expandedResourceIds.push(e.get("id"))},collapseNode:function(e){this.expandedResourceIds=this.expandedResourceIds.filter((function(t){return t!==e.get("id")}))}})});q.getDataKeys=function(){return["mapParentTo","mapChildrenTo","mapLevelTo","mapIsLeafTo","mapPositionTo"]},q.toVueComponent=(0,C.Z)({extends:q,dataKeys:n.Z.getDataKeys().concat(q.getDataKeys())});var w=q}}]);