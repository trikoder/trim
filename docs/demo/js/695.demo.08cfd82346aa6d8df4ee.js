(self.webpackChunk_trikoder_trim=self.webpackChunk_trikoder_trim||[]).push([[695],{8731:function(e,t,i){"use strict";i.r(t);var n=i(8081),o=i.n(n),l=i(3645),a=i.n(l)()(o());a.push([e.id,".fileAttachment[data-v-1f1f1162]{display:block;position:relative;padding:.5em;padding-right:4em;overflow:hidden;background-color:#fff;border:1px solid #ddd;border-radius:.3em}.mediaContainer[data-v-1f1f1162]{width:7em;height:5.25em;line-height:5.25em;display:inline-block;vertical-align:middle;margin-right:1.5em;position:relative;background-color:#f5f5f5;border-radius:.3em;text-align:center}.mediaContainer>img[data-v-1f1f1162]{max-width:7em;max-height:5.25em;display:inline-block;vertical-align:middle;border-radius:.3em}@media screen and (min-width: 61.3125em){.mediaContainer[data-v-1f1f1162]{width:12em;height:9em;line-height:9em}.mediaContainer>img[data-v-1f1f1162]{max-width:12em;max-height:9em}}.zoomInBtn[data-v-1f1f1162]{transition:opacity .3s;position:absolute;left:50%;top:50%;margin:-2em 0 0 -2em;width:4em;height:4em;background-color:rgba(0,0,0,.8);border-radius:50%;opacity:0;color:#fff}.zoomInBtn[data-v-1f1f1162]:before{font-size:1.3em}.mediaContainer:hover>.zoomInBtn[data-v-1f1f1162]{opacity:1}.placeholderImage[data-v-1f1f1162]{position:absolute;left:0;top:0;width:100%;height:100%;color:#666}.placeholderImage[data-v-1f1f1162]:before{font-size:1.8em}.placeholderImage.large[data-v-1f1f1162]:before{font-size:3em}.placeholderImage.interactive[data-v-1f1f1162]{cursor:pointer}.textControls[data-v-1f1f1162]{font-size:1.7em;display:inline-block;vertical-align:middle;box-sizing:border-box;max-width:50%;color:#666;cursor:pointer}@media screen and (min-width: 68.8125em){.textControls[data-v-1f1f1162]{max-width:70%}}.openBtn[data-v-1f1f1162]:hover,.fileUploadHandle[data-v-1f1f1162]:hover{color:#303030}.fileUploadHandle[data-v-1f1f1162]{position:relative;overflow:hidden;cursor:pointer}.fileName[data-v-1f1f1162]{display:block;font-size:.8235294118em;margin-top:.3571428571em;opacity:.5}.removeBtn[data-v-1f1f1162],.downloadBtn[data-v-1f1f1162]{position:absolute;right:0;top:0;bottom:0;width:3.5em;height:auto;box-sizing:border-box;border-left:1px solid #e5e5e5;color:#b7b7b7}.removeBtn[data-v-1f1f1162]:hover,.downloadBtn[data-v-1f1f1162]:hover{color:#919191}.removeBtn[data-v-1f1f1162]:before,.downloadBtn[data-v-1f1f1162]:before{font-size:1.8em}",""]),t.default=a},5695:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return w}});var n=i(6252),o=i(3577),l={class:"mediaContainer"},a=["src"],r={class:"textControls"},d={key:0,class:"fileName"},c=["href"],s=i(7784),m=i(5511),f=i(7231),u=i(2025),p=i.n(u),h=i(6777),g=i(2319),v=i.n(g),b=(i(1719),{elementType:"fileAttachment",components:{ElementWrapper:f.Z},mixins:[s.Z],props:{modelValue:{},acceptedFiles:{type:String},maxFileSize:{type:Number},mapThumbnailTo:{type:[String,Function]},mapCurrentFileUrlTo:{type:[String,Function]},addFileCaption:{type:String,default:function(){return(0,m.Z)("formElements.fileAttachment.addFileCaption")}},changeFileCaption:{type:String,default:function(){return(0,m.Z)("formElements.fileAttachment.changeFileCaption")}},downloadAction:{type:Function}},data:function(){return{savesFile:!0,clientThumbnail:void 0,selectedFile:void 0}},computed:{thumbnailUrl:function(){return this.clientThumbnail?this.clientThumbnail:!this.selectedFile&&this.mapThumbnailTo?this.getModelMapping(this.mapThumbnailTo):void 0},fileUrl:function(){return this.selectedFile?void 0:this.mapCurrentFileUrlTo?this.getModelMapping(this.mapCurrentFileUrlTo):void 0},selectedFileName:function(){return this.selectedFile&&this.selectedFile.name},textControlCaption:function(){return this.selectedFile||this.fileUrl?this.changeFileCaption:this.addFileCaption}},mounted:function(){var e=this;this.$watch("isInteractive",(function(t){t?e.setupFileInput():e.destroyFileInput()}),{immediate:!0})},beforeUnmount:function(){this.lightbox&&this.lightbox.destroy(),this.destroyFileInput()},methods:{clickDownload:function(e){this.downloadAction&&(e.preventDefault(),this.downloadAction(this.fileUrl))},getModelMapping:function(e){return"function"==typeof e?e(this.resourceModel):this.resourceModel.get(e)},setupFileInput:function(){var e=this;(this.dropzone=new(p())(this.$refs.inputWrapper,{url:"/dummy-upload-url",acceptedFiles:this.acceptedFiles,maxFilesize:this.maxFileSize,clickable:!0,maxFiles:1,uploadMultiple:!1,createImageThumbnails:!0,autoProcessQueue:!1,autoDiscover:!1,thumbnailWidth:800,thumbnailHeight:800,thumbnailMethod:"contain",previewsContainer:document.createElement("div")})).on("addedfile",(function(t){e.clientThumbnail=void 0,e.selectedFile=t,e.dropzone.removeAllFiles()})).on("thumbnail",(function(t,i){t===e.selectedFile&&(e.clientThumbnail=i)})).on("error",(function(t,i){(0,h.i)({message:i,acceptText:(0,m.Z)("prompt.continueText"),acceptOnly:!0,parent:e}),e.removeSelectedFile()}))},destroyFileInput:function(){this.dropzone&&(this.dropzone.removeAllFiles(),this.dropzone.disable(),this.dropzone.destroy(),delete this.dropzone)},getFile:function(){return this.selectedFile},openFileDialog:function(){this.dropzone&&this.dropzone.hiddenFileInput.click()},zoomImage:function(){var e=this;this.lightbox&&this.lightbox.destroy(),this.lightbox=v().open({items:[this.clientThumbnail||this.fileUrl],beforeUnmount:function(){delete e.lightbox}})},removeSelectedFile:function(){this.selectedFile=this.clientThumbnail=void 0,this.dropzone.removeAllFiles()}}});i(7452);const F=(0,i(3744).Z)(b,[["render",function(e,t,i,s,m,f){var u=(0,n.up)("element-wrapper");return(0,n.wg)(),(0,n.j4)(u,(0,n.dG)({renderInputWrapper:!1},e.elementWrapperProps),{default:(0,n.w5)((function(){return[(0,n._)("div",(0,n.dG)(e.inputWrapperAttributes,{ref:"inputWrapper"}),[(0,n._)("div",l,[f.thumbnailUrl?((0,n.wg)(),(0,n.iD)(n.HY,{key:0},[(0,n._)("img",{src:f.thumbnailUrl},null,8,a),(0,n._)("button",{type:"button",onClick:t[0]||(t[0]=function(){return f.zoomImage&&f.zoomImage.apply(f,arguments)}),class:"nBtn icr zoomInBtn iconMaximize"})],64)):((0,n.wg)(),(0,n.iD)("button",{key:1,type:"button",onClick:t[1]||(t[1]=function(){return f.openFileDialog&&f.openFileDialog.apply(f,arguments)}),class:(0,o.C_)([{"iconFile large":e.selectedFile||f.fileUrl,iconPlus:!e.selectedFile&&!f.fileUrl},"nBtn fileUploadClickable placeholderImage icr"])},null,2))]),(0,n._)("div",r,[(0,n._)("span",{class:"fileUploadHandle",onClick:t[2]||(t[2]=function(){return f.openFileDialog&&f.openFileDialog.apply(f,arguments)})},[(0,n.Uk)((0,o.zw)(f.textControlCaption)+" ",1),f.selectedFileName?((0,n.wg)(),(0,n.iD)("span",d,(0,o.zw)(f.selectedFileName),1)):(0,n.kq)("",!0)])]),f.fileUrl&&!e.selectedFile?((0,n.wg)(),(0,n.iD)("a",{key:0,href:f.fileUrl,onClick:t[3]||(t[3]=function(){return f.clickDownload&&f.clickDownload.apply(f,arguments)}),target:"_blank",class:"downloadBtn nBtn icr iconDownload"},null,8,c)):(0,n.kq)("",!0),e.selectedFile?((0,n.wg)(),(0,n.iD)("button",{key:1,onClick:t[4]||(t[4]=function(t){return e.isInteractive&&f.removeSelectedFile()}),type:"button",class:"removeBtn nBtn icr iconRotateCcw"})):(0,n.kq)("",!0)],16)]})),_:1},16)}],["__scopeId","data-v-1f1f1162"]]);var w=F},7452:function(e,t,i){var n=i(8731);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals),(0,i(5346).Z)("45d7cf54",n,!0,{})}}]);